(()=>{"use strict";class t{static fromJson({id:e,tarea:o,completado:a,creado:s}){const d=new t(o);return d.id=e,d.completado=a,d.creado=s,d}constructor(t){this.tarea=t,this.id=(new Date).getTime(),this.completado=!1,this.creado=new Date}}const e=document.querySelector(".todo-list"),o=document.querySelector(".new-todo"),a=document.querySelector(".clear-completed"),s=document.querySelector(".filters"),d=document.querySelectorAll(".filtro"),c=t=>{const o=`\n    <li class="${t.completado?"completed":""}" data-id="${t.id}">\n        <div class="view">\n            <input class="toggle" type="checkbox" ${t.completado?"checked":""}>\n            <label>${t.tarea}</label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Create a TodoMVC template">\n    </li>        \n    `,a=document.createElement("div");return a.innerHTML=o,e.appendChild(a.firstElementChild),a.firstElementChild};o.addEventListener("keyup",(e=>{if(13===e.keyCode&&o.value.length>0){const e=new t(o.value);c(e),o.value=""}})),e.addEventListener("click",(t=>{const o=t.target.localName,a=t.target.parentElement.parentElement;a.getAttribute("data-id");o.includes("input")?a.classList.toggle("completed"):o.includes("button")&&e.removeChild(a)})),a.addEventListener("click",(()=>{for(let t=e.children.length-1;t>=0;t--){const o=e.children[t];o.classList.contains("completed")&&e.removeChild(o)}})),s.addEventListener("click",(t=>{const o=t.target.text;if(o){d.forEach((t=>t.classList.remove("selected"))),t.target.classList.add("selected");for(const t of e.children){t.classList.remove("hidden");const e=t.classList.contains("completed");switch(o){case"Pendientes":e&&t.classList.add("hidden");break;case"Completados":e||t.classList.add("hidden")}}}}));(new class{constructor(){this.cargarLocalStorage()}nuevoTodo(t){this.todos.push(t),this.guardarLocalStorage()}eliminarTodo(t){this.todos=this.todos.filter((e=>e.id!=t)),this.guardarLocalStorage()}marcarCompletado(t){for(const e of this.todos)if(e.id==t){e.completado=!e.completado,this.guardarLocalStorage();break}}eliminarCompletado(){this.todos=this.todos.filter((t=>!t.completado)),this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("todo",JSON.stringify(this.todos))}cargarLocalStorage(){this.todos=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):[],this.todos=this.todos.map(t.fromJson)}}).todos.forEach(c)})();